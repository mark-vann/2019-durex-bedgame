(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{427:function(t,e,n){"use strict";var i=n(16),s=n.n(i),r=n(12),o={name:"TextLine",props:["data","skip"],data:function(){return{result:"",countdown:5}},computed:s()({},Object(r.e)(["user1name","user1gender","user2name","user2gender","cardState","popup","drawResult"]),{isText:function(){return!this.data.type},isBtn:function(){var t=this.data.type;return t&&"btn"===t},transitionName:function(){var t=this.skip,e=this.isBtn;return t?"skip":e?"btn":"text"},htmlText:function(){var t=this.data.text,e=this.user1name,n=this.user1gender,i=this.user2name,s="M"===n?"<b>"+e+"</b>":"<i>"+e+"</i>",r="M"===this.user2gender?"<b>"+i+"</b>":"<i>"+i+"</i>";return t.replace("{{user1}}",s).replace("{{user2}}",r)},btnText:function(){var t=this,e=this.data.text,n=this.countdown;return"dynamic"===this.cardState?e:(this.countdown?setTimeout((function(){t.countdown&&(t.countdown-=1)}),1e3):(this.result="請執行卡牌指令",this.$emit("next")),e+" ("+n+")")}}),watch:{popup:function(t,e){var n=this;if(!t&&"draw"===e){if(!this.isBtn||this.result)return;this.result=this.drawResult.action,setTimeout((function(){n.setDrawResult(null),n.$emit("next")}),1250)}}},methods:s()({},Object(r.d)(["showPopup","setDrawResult"]),{},Object(r.b)(["nextDraw"]),{onEnter:function(){this.isText&&this.$emit("next")},onClick:function(){this.$emit("draw"),"real"===this.cardState?(this.countdown=0,this.result="請執行卡牌指令",this.$emit("next")):(this.nextDraw(),this.showPopup("draw"))}}),mounted:function(){},beforeDestroy:function(){},components:{}},u=(n(452),n(19)),a=Object(u.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("transition",{attrs:{name:t.transitionName,appear:""},on:{"after-enter":t.onEnter}},[n("div",{staticClass:"text-line-root"},[t.isText?n("p",{staticClass:"text",domProps:{innerHTML:t._s(t.htmlText)}}):t._e(),t.isBtn&&!t.result?n("a",{staticClass:"btn inline",on:{click:function(e){return e.preventDefault(),e.stopPropagation(),t.onClick(e)}}},[t._v(t._s(t.btnText))]):t._e(),t.isBtn&&t.result?n("a",{staticClass:"btn inline result"},[t._v(t._s(t.result))]):t._e()])])}),[],!1,null,null,null).exports,c=n(115),l={name:"TextContent",props:["source","delay"],data:function(){return{skip:!1,list:[],index:-1}},computed:s()({},Object(r.e)([])),methods:{nextLine:function(){var t=this.index,e=this.source,n=e[t];n&&n.vo&&c.a.play(n.vo),this.index+=1;var i=this.index,s=this.list,r=e[i];if(r){if("clear"===r.type)return s.splice(0,s.length),void this.nextLine();if(this.skip)this.$nextTick((function(){s.push(r)}));else{var o=r.delay||0,u=n&&!n.type?450:250;setTimeout((function(){s.push(r)}),1e3*o+u)}}else this.$emit("complete")}},mounted:function(){this.nextLine()},beforeDestroy:function(){},components:{TextLine:a}},h=(n(453),Object(u.a)(l,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-content-root",on:{click:function(e){t.skip=!0}}},t._l(t.list,(function(e,i){return n("TextLine",{key:"text"+i,attrs:{data:e,skip:t.skip},on:{draw:function(e){return t.$emit("draw")},next:t.nextLine}})})),1)}),[],!1,null,null,null).exports);n.d(e,"a",(function(){return h}))},428:function(t,e,n){},429:function(t,e,n){},452:function(t,e,n){"use strict";var i=n(428);n.n(i).a},453:function(t,e,n){"use strict";var i=n(429);n.n(i).a}}]);