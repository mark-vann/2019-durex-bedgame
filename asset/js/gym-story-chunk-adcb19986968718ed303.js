(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{446:function(t,e,n){},484:function(t,e,n){"use strict";var s=n(446);n.n(s).a},495:function(t,e,n){"use strict";n.r(e);var s=n(16),r=n.n(s),a=n(12),i=n(427),o=n(115),u=n(116),d=n(114),c=n(441),x=n(117),l=n(442),y=n(9),g=[[{text:"私人健身俱樂部中"},{text:"最受歡迎的教練課來到尾聲",delay:.5},{text:"對靦腆教練 {{user1}}",delay:2},{text:"互有好感的學員 {{user2}}",delay:1},{text:"也在課堂中",delay:.8}],[{text:"伴隨著舒和的收操的結束"},{text:"教練 {{user1}} 宣布下課",delay:1.5},{text:"一邊寒暄一邊送走學員們後",delay:2.5}],[{text:"教練 {{user1}} 發現教室裡"},{text:"只剩下一位學員 {{user2}}",delay:1},{text:"繼續收著操",delay:.2},{text:"教練走到學員 {{user2}} 身邊",delay:3.3},{text:"親切的表示可以幫忙他多緩和一下",delay:1.2},{text:"緊繃的身體",delay:1.5}],[{text:"教練 {{user1}} 輕輕的"},{text:"壓著他的大腿",delay:.5},{text:"學員 {{user2}}",delay:.5},{text:"身上也飄來淡淡的小蒼蘭香水"},{text:"混合著汗水的味道",delay:2}],[{text:"教練 {{user1}}"},{text:"壓著學員 {{user2}} 的大腿"},{text:"雙手慢慢游移",delay:1},{text:"這時候",delay:1},{text:"主動的學員 {{user2}}",delay:1},{type:"btn",text:"請抽一張卡牌",gender:"user2"}],[{text:"驚訝的教練 {{user1}}"},{text:"這時也鼓起勇氣對她",delay:.5},{type:"btn",text:"請抽一張卡牌",gender:"user1",vo:"VO-gym-6-2",delay:2},{text:"忍了好幾週的欲望再也無法按耐",delay:2.5},{text:"教練 {{user1}}",delay:2},{text:"直接將她壓在軟墊上",delay:.8},{type:"btn",text:"請抽一張卡牌",gender:"user1"}],[{text:"學員 {{user2}} 喘息的喊著教練",delay:1},{text:"並以",delay:3.5},{type:"btn",text:"請抽一張卡牌",gender:"user2"},{text:"又"},{type:"btn",text:"請抽一張卡牌",gender:"user2",vo:"VO-gym-7-2"},{text:"回應教練 {{user1}} 的激烈"}],[{text:"這時候"},{text:"教練 {{user1}}",delay:1},{text:"將學員 {{user2}} 帶到鏡子前"},{text:"要他看著鏡子中的自己",delay:.5},{type:"btn",text:"請抽一張卡牌",gender:"user1"},{text:"又"},{type:"btn",text:"請抽一張卡牌",gender:"user1"}],[{text:"突然間"},{text:"教室外傳來開門聲",delay:.5},{text:"竟然是上課的學員忘了帶毛巾",delay:1},{text:"再次返回教室",delay:.8},{text:"教練 {{user1}}",delay:1},{text:"趕緊摀著學員 {{user2}} 的嘴",delay:.8},{text:"一手抱起他躲到堆成小山的瑜珈墊後",delay:.8}],[{text:"躲藏的時候",delay:.8},{text:"學員 {{user2}} 故意",delay:.5},{type:"btn",text:"請抽一張卡牌",gender:"user2"},{text:"又"},{type:"btn",text:"請抽一張卡牌",gender:"user2",vo:"VO-gym-10-2"},{text:"讓教練 {{user1}} 癢得難受"},{text:"卻又不敢放肆回應",delay:.5}],[{text:"直到返回的學員離開教室"},{text:"教練 {{user1}} 將",delay:1},{text:"學員 {{user2}} 一把抱起",delay:.5},{text:"讓他坐在懸吊於天花板的彈力繩上",delay:1.2},{text:"並"},{type:"btn",text:"請抽一張卡牌",gender:"user1"},{text:"再"},{type:"btn",text:"請抽一張卡牌",gender:"user1"}],[{text:"這時，學員 {{user2}} 再也受不了了"},{text:"他打開了雙腿",delay:2},{text:"對著教練 {{user1}} 說：",delay:.5},{text:"『我現在就要你』",delay:.5},{text:"教練 {{user1}} 也拿出了健身包裡",delay:1},{text:"一直預備的 Durex 開始了",delay:.5},{text:"今晚，比健身課更激烈的運動",delay:.5}]],h=[1,2,3,4,5,6,7,8,9,10,11,12].map((function(t){switch(t){case 6:case 7:case 10:return[{id:"VO-gym-"+t,src:"./asset/sound/gym/VO/"+t+"_1.mp3"},{id:"VO-gym-"+t+"-2",src:"./asset/sound/gym/VO/"+t+"_2.mp3"}];default:return[{id:"VO-gym-"+t,src:"./asset/sound/gym/VO/"+t+".mp3"}]}})).reduce((function(t,e){return t.concat(e)}),[]),m=[1,2,3,4,5,6,7,8,9,10,11,12].map((function(t){return{id:"SFX-gym-"+t,src:"./asset/sound/gym/SFX/"+t+".mp3"}})),f=[1,5].map((function(t){return{id:"BGM-gym-"+t,src:"./asset/sound/gym/BGM/"+t+".mp3"}})),p={name:"GymStory",data:function(){return{source:g,pageindex:0,animlist:[1,2,3,4,5,7,8,9,11,12],showBtn:!1,hideText:!1,gaNext:0,gaDraw:0}},computed:r()({},Object(a.e)(["cardState"]),{},Object(a.c)([]),{isEnding:function(){return this.pageindex===this.source.length},showCTA:function(){var t=this.showBtn,e=this.cardState,n=this.isEnding;return t&&"real"!==e&&n},btnLabel:function(){return this.isEnding?"分享我的課後活動":"下一步"}}),watch:{pageindex:function(t){var e=this.animlist.indexOf(t);e>-1&&this.$emit("bg-in",e+1);var n=h.filter((function(e){var n=e.id;return n==="VO-gym-"+t||n==="VO-gym-"+t+"-1"}))[0],s=m.filter((function(e){return e.id==="SFX-gym-"+t}))[0],r=f.filter((function(e){return e.id==="BGM-gym-"+t}))[0];n&&o.a.play(n.id),s&&u.a.play(s.id),r&&d.a.play(r.id)}},methods:r()({},Object(a.d)(["showPopup"]),{},Object(a.b)(["resetDraw"]),{sendGA:function(t){void 0===t&&(t="");var e="real"===this.cardState?"card":"nocard";Object(y.b)("gym/"+e+(t?"_":"")+t)},sendNextGA:function(){this.gaNext+=1,this.sendGA("next"+this.gaNext)},sendDrawGA:function(){this.gaDraw+=1,this.sendGA("draw"+this.gaDraw)},onProduct:function(){Object(y.a)("gym/nocard_buy"),this.sendGA("buy"),this.showPopup("product")},onNext:function(){var t=this,e=this.pageindex;if(this.isEnding)return this.sendGA("fbshare"),void Object(l.a)("https://durex-bedgame.medialand.com.tw/");this.sendNextGA(),this.showBtn=!1,this.animlist.indexOf(e+1)<0?this.nextPage():(this.$emit("bg-out"),this.hideText=!0,setTimeout((function(){t.nextPage()}),500))},onComplete:function(){var t=this;setTimeout((function(){t.showBtn=!0}),this.isEnding?3e3:0)},nextPage:function(){var t=this.pageindex;this.isEnding||(this.pageindex=t+1,this.hideText=!1)}}),beforeRouteEnter:function(t,e,s){x.a.commit("showLoading",!0);var r=function(t,e,n){var s=e+t*(n-e);x.a.commit("loadProgress",Math.round(100*s))};Promise.resolve().then((function(){return x.a.dispatch("prepareStoryDraw",g)})).then((function(t){return new Promise((function(e){var s=t.map((function(t,e){return{id:"draw"+(e+1),src:t.image}})).concat([{id:"draw0",src:n(126)}]),a=new c.a;a.on("progress",(function(t){return r(t,0,.25)})),a.on("complete",(function(){a.destroy(),e()})),a.load(s)}))})).then((function(){return o.a.on("progress",(function(t){return r(t,.25,.5)})),o.a.init(h,"gym")})).then((function(){return u.a.on("progress",(function(t){return r(t,.5,.75)})),u.a.init(m,"gym")})).then((function(){return d.a.on("progress",(function(t){return r(t,.75,1)})),d.a.init(f,"gym")})).catch((function(t){})).then((function(){x.a.commit("showLoading",!1),s()}))},beforeRouteLeave:function(t,e,n){o.a.stop(),u.a.stop(),d.a.stop(),n()},created:function(){this.resetDraw(),this.$emit("bg-in",1)},mounted:function(){this.sendGA(),this.nextPage()},beforeDestroy:function(){this.$emit("bg-reset")},components:{TextContent:i.a}},b=(n(484),n(19)),w=Object(b.a)(p,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"gym-story-root"},[t._l(t.source,(function(e,s){return n("transition",{key:"page"+s,attrs:{name:"fade",mode:"out-in"}},[t.hideText||t.pageindex!==s+1?t._e():n("TextContent",{ref:"text",refInFor:!0,attrs:{source:e},on:{draw:t.sendDrawGA,complete:t.onComplete}})],1)})),t.showBtn&&t.isEnding&&!t.showCTA?n("router-link",{staticClass:"btn bottom",attrs:{to:"/list"}},[t._v("玩其他遊戲")]):t._e(),t.showBtn&&t.isEnding&&t.showCTA?n("div",{staticClass:"btn bottom row"},[n("a",{staticClass:"btn inline small",on:{click:t.onProduct}},[t._v("我要床遊卡牌")]),n("router-link",{staticClass:"btn inline small",attrs:{to:"/list"}},[t._v("玩其他遊戲")])],1):t._e(),t.showBtn?n("a",{staticClass:"btn bottom",class:{share:t.isEnding},on:{click:t.onNext}},[t._v(t._s(t.btnLabel))]):t._e()],2)}),[],!1,null,null,null).exports;n.d(e,"default",(function(){return w}))}}]);